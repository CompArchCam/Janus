<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>Dr. Memory: Dr. SymCache: Symbol Lookup Cache Extension</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dr. Memory
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__drsymcache.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Dr. SymCache: Symbol Lookup Cache Extension</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gadc95919cd07bac508f721b4bc93e454a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gadc95919cd07bac508f721b4bc93e454a">DRMGR_PRIORITY_NAME_DRSYMCACHE</a>&#160;&#160;&#160;&quot;drsymcache&quot;</td></tr>
<tr class="separator:gadc95919cd07bac508f721b4bc93e454a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd1ab24936340d4f84a0fac0e0534cc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gadd1ab24936340d4f84a0fac0e0534cc6">DRMGR_PRIORITY_NAME_DRSYMCACHE_SAVE</a>&#160;&#160;&#160;&quot;drsymcache_save&quot;</td></tr>
<tr class="separator:gadd1ab24936340d4f84a0fac0e0534cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga99fb83031ce9923c84392b4e92f956b5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5acfb1d8a854df37dc441c21d369f96ad3">DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_READ</a> = -150, 
<br />
&#160;&#160;<a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5a5a2ca67cff95fa3d359b2aca49d94aa8">DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_SAVE</a> = 150, 
<br />
&#160;&#160;<a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5a4e2b00bf43d9684380879406f4a3e623">DRMGR_PRIORITY_MODUNLOAD_DRSYMCACHE</a> = -150
<br />
 }<tr class="separator:ga99fb83031ce9923c84392b4e92f956b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae20727ceefa9b26b5d9851b6dbae8a7b"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gae20727ceefa9b26b5d9851b6dbae8a7b">drsymcache_init</a> (client_id_t client_id, const char *drsymcache_dir, size_t modsize_cache_threshold)</td></tr>
<tr class="separator:gae20727ceefa9b26b5d9851b6dbae8a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac93f61aab50f0b1e2da8c08d8108d3d6"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gac93f61aab50f0b1e2da8c08d8108d3d6">drsymcache_exit</a> (void)</td></tr>
<tr class="separator:gac93f61aab50f0b1e2da8c08d8108d3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ec0bad9bf523d04d0ba4defc5fd7ee1"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#ga6ec0bad9bf523d04d0ba4defc5fd7ee1">drsymcache_is_initialized</a> (OUT bool *initialized)</td></tr>
<tr class="separator:ga6ec0bad9bf523d04d0ba4defc5fd7ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11057a892bbfba83e5f7111f64d97085"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#ga11057a892bbfba83e5f7111f64d97085">drsymcache_module_is_cached</a> (const module_data_t *mod, OUT bool *cached)</td></tr>
<tr class="separator:ga11057a892bbfba83e5f7111f64d97085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad528ee5a5889cd39d0ec0db323d7c3b3"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gad528ee5a5889cd39d0ec0db323d7c3b3">drsymcache_module_has_debug_info</a> (const module_data_t *mod, OUT bool *has_debug)</td></tr>
<tr class="separator:gad528ee5a5889cd39d0ec0db323d7c3b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52c95b9bd8e0668534e39b55ff921d39"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#ga52c95b9bd8e0668534e39b55ff921d39">drsymcache_module_save_symcache</a> (const module_data_t *mod)</td></tr>
<tr class="separator:ga52c95b9bd8e0668534e39b55ff921d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga098117d857d04e45ec07ee6caa55f11d"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#ga098117d857d04e45ec07ee6caa55f11d">drsymcache_add</a> (const module_data_t *mod, const char *symbol, size_t offs)</td></tr>
<tr class="separator:ga098117d857d04e45ec07ee6caa55f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8370402f3a8d154889e5f5346158b328"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#ga8370402f3a8d154889e5f5346158b328">drsymcache_lookup</a> (const module_data_t *mod, const char *symbol, OUT size_t **offs_array, OUT uint *num_entries, OUT size_t *offs_single)</td></tr>
<tr class="separator:ga8370402f3a8d154889e5f5346158b328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad3e71b21256e238628bdb689bcc8c1f"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drsymcache.html#gaad3e71b21256e238628bdb689bcc8c1f">drsymcache_free_lookup</a> (size_t *offs, uint num)</td></tr>
<tr class="separator:gaad3e71b21256e238628bdb689bcc8c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gadc95919cd07bac508f721b4bc93e454a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRMGR_PRIORITY_NAME_DRSYMCACHE&#160;&#160;&#160;&quot;drsymcache&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name of drsymcache events <a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5acfb1d8a854df37dc441c21d369f96ad3">DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_READ</a> and <a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5a4e2b00bf43d9684380879406f4a3e623">DRMGR_PRIORITY_MODUNLOAD_DRSYMCACHE</a>. </p>

</div>
</div>
<a class="anchor" id="gadd1ab24936340d4f84a0fac0e0534cc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRMGR_PRIORITY_NAME_DRSYMCACHE_SAVE&#160;&#160;&#160;&quot;drsymcache_save&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name of drsymcache events <a class="el" href="group__drsymcache.html#gga99fb83031ce9923c84392b4e92f956b5a5a2ca67cff95fa3d359b2aca49d94aa8">DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_SAVE</a>. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga99fb83031ce9923c84392b4e92f956b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Priority of drsymcache events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5acfb1d8a854df37dc441c21d369f96ad3"></a>DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_READ&#160;</td><td class="fielddoc">
<p>Priority of the drsymcache module load event action that checks for a symbol cache file and reads it in. This event must occur before any drsymcache API usage in module load events of users of drsymcache. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5a5a2ca67cff95fa3d359b2aca49d94aa8"></a>DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_SAVE&#160;</td><td class="fielddoc">
<p>Priority of the drsymcache module load event action that saves the current symbol cache from memory to disk. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5a4e2b00bf43d9684380879406f4a3e623"></a>DRMGR_PRIORITY_MODUNLOAD_DRSYMCACHE&#160;</td><td class="fielddoc">
<p>Priority of the drsymcache module unload event action that saves the current symbol cache from memory to disk and then frees the in-memory cache data structures. This event must occur after any drsymcache API usage in module unload events of users of drsymcache. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga098117d857d04e45ec07ee6caa55f11d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_add </td>
          <td>(</td>
          <td class="paramtype">const module_data_t *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a new entry for the symbol name <code>symbol</code> to the symbol cache for <code>mod</code>. If an entry already exists and is 0, replaces it; else adds a new value equal to <code>offset</code> for that symbol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module whose symcache should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">symbol</td><td>The name of the symbol being added. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offs</td><td>The offset from the module base to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. If there is no cache for this module, returns DRMF_ERROR_NOT_FOUND. </dd></dl>

</div>
</div>
<a class="anchor" id="gac93f61aab50f0b1e2da8c08d8108d3d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up drsymcache.</p>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaad3e71b21256e238628bdb689bcc8c1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_free_lookup </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the array of offsets allocated by <a class="el" href="group__drsymcache.html#ga8370402f3a8d154889e5f5346158b328">drsymcache_lookup()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="gae20727ceefa9b26b5d9851b6dbae8a7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_init </td>
          <td>(</td>
          <td class="paramtype">client_id_t&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>drsymcache_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>modsize_cache_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes drsymcache. Can be called multiple times (by separate components, normally) but each call must be paired with a corresponding call to <a class="el" href="group__drsymcache.html#gac93f61aab50f0b1e2da8c08d8108d3d6">drsymcache_exit()</a>, and only the first call's parameters are honored: subsequent calls return DRMF_WARNING_ALREADY_INITIALIZED and ignore the parameters passed in favor of those passed to the original call. Libraries that use drsymcache should typically require that their callers initialize drsymcache, as the location of the cache files is usually a top-level tool property.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client_id</td><td>The id of the client using drsymcache, as passed to dr_init(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">drsymcache_dir</td><td>The directory in which to store symbol cache files. If this directory does not exist, drsymcache will attempt to create it, and return DRMF_ERROR_INVALID_PARAMETER on failure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">modsize_cache_threshold</td><td>The minimum module size for which symbols should be cached. Normally there's little downside to caching, so passing 0 here is reasonable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6ec0bad9bf523d04d0ba4defc5fd7ee1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_is_initialized </td>
          <td>(</td>
          <td class="paramtype">OUT bool *&#160;</td>
          <td class="paramname"><em>initialized</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries whether drsymcache has been initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">initialized</td><td>Whether drsymcache is initialized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8370402f3a8d154889e5f5346158b328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_lookup </td>
          <td>(</td>
          <td class="paramtype">const module_data_t *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT size_t **&#160;</td>
          <td class="paramname"><em>offs_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT uint *&#160;</td>
          <td class="paramname"><em>num_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT size_t *&#160;</td>
          <td class="paramname"><em>offs_single</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries the symbol cache for <code>mod</code>. If <code>symbol</code> is not present in the cache, returns DRMF_ERROR_NOT_FOUND. If <code>symbol</code> is present, allocates and returns an array of all entries found. The size of the array is returned in <code>num</code>. The array must be freed by calling <a class="el" href="group__drsymcache.html#gaad3e71b21256e238628bdb689bcc8c1f">drsymcache_free_lookup()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module being queried. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">symbol</td><td>The name of the symbol being queried. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offs_array</td><td>Returns a pointer to an array of offsets from the module base containing the locations of each instance of the symbol. If the symbol is not present in the module, there will only be one entry with offset of 0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offs_single</td><td>Since many symbols have only one entry, to avoid the overhead of allocating memory the caller must pass in a single slot that offs_array will point to if num_entries is just 1. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_entries</td><td>The total count of instances of symbol within the module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="gad528ee5a5889cd39d0ec0db323d7c3b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_module_has_debug_info </td>
          <td>(</td>
          <td class="paramtype">const module_data_t *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT bool *&#160;</td>
          <td class="paramname"><em>has_debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries whether <code>mod</code> has debug information (any symbol information, even if there is no line number information: i.e., whether the symbol is stripped).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module being queried. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">has_debug</td><td>Whether the module has debug information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga11057a892bbfba83e5f7111f64d97085"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_module_is_cached </td>
          <td>(</td>
          <td class="paramtype">const module_data_t *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT bool *&#160;</td>
          <td class="paramname"><em>cached</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries whether <code>mod</code> has a corresponding symbol cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module being queried. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cached</td><td>Whether the module has a symbol cache.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga52c95b9bd8e0668534e39b55ff921d39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drmf.html#gafcc3ee43c88eeb409c25459be608619b">drmf_status_t</a> drsymcache_module_save_symcache </td>
          <td>(</td>
          <td class="paramtype">const module_data_t *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Proactively writes the symbol cache file corresponding to <code>mod</code> to disk. Symbol cache files are automatically saved at three points, without the user needing to invoke this routine: after a module is loaded (with a late priority DRMGR_PRIORITY_MODLOAD_DRSYMCACHE_SAVE), when a module is unloaded (with priority DRMGR_PRIORITY_MODUNLOAD_DRSYMCACHE), and when the final <a class="el" href="group__drsymcache.html#gac93f61aab50f0b1e2da8c08d8108d3d6">drsymcache_exit()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module to save.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  Dr. Memory version 1.11.1 --- Fri Feb 3 2017 00:38:44 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
