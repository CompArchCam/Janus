<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>Dr. Memory: _drsys_options_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dr. Memory
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('struct__drsys__options__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">_drsys_options_t Struct Reference<div class="ingroups"><a class="el" href="group__drsyscall.html">Dr. Syscall: System Call Monitoring Extension</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;drsyscall.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ac35d3a3a7f5dd5f266b95d8bdb1d948d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#ac35d3a3a7f5dd5f266b95d8bdb1d948d">struct_size</a></td></tr>
<tr class="separator:ac35d3a3a7f5dd5f266b95d8bdb1d948d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bced7cd4296b8074f922cc529e9e3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a98bced7cd4296b8074f922cc529e9e3a">analyze_unknown_syscalls</a></td></tr>
<tr class="separator:a98bced7cd4296b8074f922cc529e9e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dafc6a6995f1c11438e200ab130ef6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a8dafc6a6995f1c11438e200ab130ef6c">syscall_dword_granularity</a></td></tr>
<tr class="separator:a8dafc6a6995f1c11438e200ab130ef6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0903b4a6615e8f83fbe60a2211750675"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a0903b4a6615e8f83fbe60a2211750675">syscall_sentinels</a></td></tr>
<tr class="separator:a0903b4a6615e8f83fbe60a2211750675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e76fc688fc85e8a95858f2e9266e91"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#af6e76fc688fc85e8a95858f2e9266e91">is_byte_addressable</a> )(byte *addr)</td></tr>
<tr class="separator:af6e76fc688fc85e8a95858f2e9266e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6cea765d2366b00ebcbb1ae30280d0"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a7d6cea765d2366b00ebcbb1ae30280d0">is_byte_defined</a> )(byte *addr)</td></tr>
<tr class="separator:a7d6cea765d2366b00ebcbb1ae30280d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8611264d4ac992a45a795c2b7c2af250"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a8611264d4ac992a45a795c2b7c2af250">is_byte_undefined</a> )(byte *addr)</td></tr>
<tr class="separator:a8611264d4ac992a45a795c2b7c2af250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445d5480361a22cfdf063b523f5d654c"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a445d5480361a22cfdf063b523f5d654c">is_register_defined</a> )(reg_id_t reg)</td></tr>
<tr class="separator:a445d5480361a22cfdf063b523f5d654c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918698345d3cd7e63847afceb00401d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a918698345d3cd7e63847afceb00401d3">verify_sysnums</a></td></tr>
<tr class="separator:a918698345d3cd7e63847afceb00401d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef1bc5d546d8e4888ca97596ca6df6c"><td class="memItemLeft" align="right" valign="top">app_pc(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#a2ef1bc5d546d8e4888ca97596ca6df6c">lookup_internal_symbol</a> )(const module_data_t *mod, const char *sym)</td></tr>
<tr class="separator:a2ef1bc5d546d8e4888ca97596ca6df6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf96eea8b757c1cf5cf9cc5ebf1dad54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#acf96eea8b757c1cf5cf9cc5ebf1dad54">syscall_driver</a></td></tr>
<tr class="separator:acf96eea8b757c1cf5cf9cc5ebf1dad54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab983f4031f8c4e4d67c3b6b6b70b09c6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#ab983f4031f8c4e4d67c3b6b6b70b09c6">sysnum_file</a></td></tr>
<tr class="separator:ab983f4031f8c4e4d67c3b6b6b70b09c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98bfa07c53b7d298fda30b7be617452"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drsys__options__t.html#ae98bfa07c53b7d298fda30b7be617452">skip_internal_tables</a></td></tr>
<tr class="separator:ae98bfa07c53b7d298fda30b7be617452"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Specifies parameters controlling the behavior of Dr. Syscall to <a class="el" href="group__drsyscall.html#gab27ae10a26a13586ab3d7c33bdeefb7c">drsys_init()</a>. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a98bced7cd4296b8074f922cc529e9e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::analyze_unknown_syscalls</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dr. Syscall does not have information on every system call. For unknown syscalls, if this parameter is set, then a pre- and post-syscall memory comparison will be used to identify output parameters. Input parameters will remain unknown. When using this parameter, we recommend providing callbacks for <a class="el" href="struct__drsys__options__t.html#af6e76fc688fc85e8a95858f2e9266e91">is_byte_addressable()</a>, <a class="el" href="struct__drsys__options__t.html#a7d6cea765d2366b00ebcbb1ae30280d0">is_byte_defined()</a>, and <a class="el" href="struct__drsys__options__t.html#a445d5480361a22cfdf063b523f5d654c">is_register_defined()</a>, if possible, to achieve greater accuracy. </p>

</div>
</div>
<a class="anchor" id="af6e76fc688fc85e8a95858f2e9266e91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* _drsys_options_t::is_byte_addressable) (byte *addr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a query routine for whether a byte is addressable, i.e., allocated and safe to access. If analyze_unknown_syscalls is on, the quality of unknown parameter analysis increases substantially if information on whether registers and memory contain valid, initialized information is available. </p>

</div>
</div>
<a class="anchor" id="a7d6cea765d2366b00ebcbb1ae30280d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* _drsys_options_t::is_byte_defined) (byte *addr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a query routine for whether a byte is defined, i.e., allocated, safe to access, and initialized. If analyze_unknown_syscalls is on, the quality of unknown parameter analysis increases substantially if information on whether registers and memory contain valid, initialized information is available. </p>

</div>
</div>
<a class="anchor" id="a8611264d4ac992a45a795c2b7c2af250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* _drsys_options_t::is_byte_undefined) (byte *addr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a query routine for whether a byte is undefined, i.e., allocated and safe to access yet uninitialized. If analyze_unknown_syscalls is on, the quality of unknown parameter analysis increases substantially if information on whether registers and memory contain valid, initialized information is available. If this is not provided but is_byte_addressable and is_byte_defined both are, those two will be called in concert to provide this information. </p>

</div>
</div>
<a class="anchor" id="a445d5480361a22cfdf063b523f5d654c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* _drsys_options_t::is_register_defined) (reg_id_t reg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a query routine for whether a register is defined, i.e., contains a fully initialized value. If analyze_unknown_syscalls is on, the quality of unknown parameter analysis increases substantially if information on whether registers and memory contain valid, initialized information is available. </p>

</div>
</div>
<a class="anchor" id="a2ef1bc5d546d8e4888ca97596ca6df6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app_pc(* _drsys_options_t::lookup_internal_symbol) (const module_data_t *mod, const char *sym)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an internal-only option that is reserved for developer use. </p>

</div>
</div>
<a class="anchor" id="ae98bfa07c53b7d298fda30b7be617452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::skip_internal_tables</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Whether to use internal syscall tables if they match the underlying kernel. </p>

</div>
</div>
<a class="anchor" id="ac35d3a3a7f5dd5f266b95d8bdb1d948d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t _drsys_options_t::struct_size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For compatibility. Set to sizeof(drsys_options_t). </p>

</div>
</div>
<a class="anchor" id="acf96eea8b757c1cf5cf9cc5ebf1dad54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::syscall_driver</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an internal-only option that is reserved for developer use. </p>

</div>
</div>
<a class="anchor" id="a8dafc6a6995f1c11438e200ab130ef6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::syscall_dword_granularity</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If analyze_unknown_syscalls is on and this parameter is on, when changes are detected, the containing dword (32 bits) are considered to have changed. </p>

</div>
</div>
<a class="anchor" id="a0903b4a6615e8f83fbe60a2211750675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::syscall_sentinels</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If analyze_unknown_syscalls is on and this parameter is on, sentinels are used to detect writes and reduce false positives, in particular for uninitialized reads. However, enabling this option can potentially result in incorrect behavior if definedness information is incorrect or application threads read syscall parameter info simultaneously. </p>

</div>
</div>
<a class="anchor" id="ab983f4031f8c4e4d67c3b6b6b70b09c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* _drsys_options_t::sysnum_file</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Points at the path to a text file that contains system call numbers. This is intended to provide a mechanism to support new versions of operating systems, Windows in particular, with a simple data file update. The file is only examined if the built-in system call tables do not match the current operating system.</p>
<p>The file format is text line-based. The first line must contain the string "DrSyscall Number File" (<a class="el" href="group__drsyscall.html#ga581507fd859b62954254d70d59c43979">DRSYS_SYSNUM_FILE_HEADER</a>). The second line must contain a single integer indicating the format version (<a class="el" href="group__drsyscall.html#gabb0751650bf9c1cf01f37218278222d1">DRSYS_SYSNUM_FILE_VERSION</a>). The third line contains a string indicating which system call (for Windows, it must be an ntoskrnl system call with a wrapper present in ntdll.dll) to use as the differentiator among versions. The body of the file contains lists of system calls of the format "name=number", with the number again in hexadecimal "0x" format. Each list begins with a line "START=" with the value of the differentiator that selects that list after the "=" sign. Each list concludes with a line "=END" (<a class="el" href="group__drsyscall.html#ga88f4938cc8eafa1993deb4acf817fa02">DRSYS_SYSNUM_FILE_FOOTER</a>). For example: </p><pre class="fragment">DrSyscall Number File
1
NtGetContextThread
START=0xe5
NtBindCompositionSurface=0x1121
NtCompositionInputThread=0x1122
NtCompositionSetDropTarget=0x1123
NtUserCallNoParam.CREATEMENU=0x0
...
=END
START=0xe6
NtBindCompositionSurface=0x1120
NtCompositionInputThread=0x1121
NtCompositionSetDropTarget=0x1122
NtUserCallNoParam.CREATEMENU=0x0
...
=END
</pre><p>This file is currently only honored on Windows. </p>

</div>
</div>
<a class="anchor" id="a918698345d3cd7e63847afceb00401d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _drsys_options_t::verify_sysnums</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an internal-only option that is reserved for developer use. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="drsyscall_8h.html">drsyscall.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct__drsys__options__t.html">_drsys_options_t</a></li>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  Dr. Memory version 1.11.1 --- Fri Feb 3 2017 00:38:44 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
